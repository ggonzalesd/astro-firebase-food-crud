---
import { getAllFoods } from '@/firebase/server';

const foods = await getAllFoods();
---

<section class='flex text-zinc-700'>
  <div menu-design class="border-r-2 border-dashed border-zinc-300"></div>
  <div class='flex-grow bg-zinc-300 p-2 rounded-r-md'>
    <span>{new Date().toISOString()}</span>
    <div class='my-2 h-[1px] w-full bg-zinc-500'></div>
    <div>
      {
        foods.map(({ name, description }) => (
          <div class='flex flex-col'>
            <span>{name}</span>
            <span class='max-w-[20ch] text-xs'>{description}</span>
          </div>
          <div class='my-2  h-[1px] w-full bg-zinc-400'></div>
        ))
      }
    </div>
  </div>
</section>

<style scoped>
  section {
    transform: translateY(10px) rotate(-2deg) scale(1);
    animation: header-bg-change ease forwards;
    animation-range: 0% 100%;
    animation-timeline: scroll();
  }

  @keyframes header-bg-change {
    to {
      transform: translateY(-10px) rotate(2deg) scale(1.1);
    }
  }

  div[menu-design] {
    display: flex;
    background: radial-gradient(circle, #0000 45%, rgba(212, 212, 216, 1) 55%);
    background-size: 100% 16px;
    background-repeat: repeat-y;
    min-width: 16px;
    min-height: 100%;
  }
</style>